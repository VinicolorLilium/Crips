"use strict";document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".form-search__btn"),e=document.querySelector(".form-search");t&&t.addEventListener("click",()=>{e.classList.toggle("_active")});const n=document.querySelector(".menu__btn"),r=document.querySelector(".menu");function i(t){this.type=t}n&&n.addEventListener("click",()=>{n.classList.toggle("_active"),r&&r.classList.toggle("_active")}),i.prototype.init=function(){const t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t],n=e.dataset.da.trim().split(","),r={};r.element=e,r.parent=e.parentNode,r.destination=document.querySelector(n[0].trim()),r.breakpoint=n[1]?n[1].trim():"767",r.place=n[2]?n[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(t){return"("+this.type+"-width: "+t.breakpoint+"px),"+t.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(t,e,n){return Array.prototype.indexOf.call(n,t)===e});for(let e=0;e<this.mediaQueries.length;e++){const n=this.mediaQueries[e],r=String.prototype.split.call(n,","),i=window.matchMedia(r[0]),o=r[1],s=Array.prototype.filter.call(this.оbjects,function(t){return t.breakpoint===o});i.addListener(function(){t.mediaHandler(i,s)}),this.mediaHandler(i,s)}},i.prototype.mediaHandler=function(t,e){if(t.matches)for(let t=0;t<e.length;t++){const n=e[t];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let t=e.length-1;t>=0;t--){const n=e[t];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},i.prototype.moveTo=function(t,e,n){e.classList.add(this.daClassname),"last"===t||t>=n.children.length?n.insertAdjacentElement("beforeend",e):"first"!==t?n.children[t].insertAdjacentElement("beforebegin",e):n.insertAdjacentElement("afterbegin",e)},i.prototype.moveBack=function(t,e,n){e.classList.remove(this.daClassname),void 0!==t.children[n]?t.children[n].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)},i.prototype.indexInParent=function(t,e){const n=Array.prototype.slice.call(t.children);return Array.prototype.indexOf.call(n,e)},i.prototype.arraySort=function(t){"min"===this.type?Array.prototype.sort.call(t,function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?-1:"last"===t.place||"first"===e.place?1:t.place-e.place:t.breakpoint-e.breakpoint}):Array.prototype.sort.call(t,function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?1:"last"===t.place||"first"===e.place?-1:e.place-t.place:e.breakpoint-t.breakpoint})};new i("max").init();const o=document.getElementById("createAccount");if(o){const c=o.querySelector("#password"),d=o.querySelector("#passwordHint"),p=d?.querySelector(".password-strength");if(!c||!d||!p)return;if("true"===c.dataset.jsPasswordHintBound)return;c.dataset.jsPasswordHintBound="true",d.hasAttribute("aria-live")||d.setAttribute("aria-live","polite");const y={0:"нет пароля",1:"очень слабый",2:"слабый",3:"средний",4:"хороший",5:"отличный"};function m(t){const e=(t||"").trim();if(!e)return 0;let n=0;e.length>=8&&(n+=1),e.length>=10&&(n+=1),e.length>=12&&(n+=1);const r=[/[a-zа-яё]/.test(e),/[A-ZА-ЯЁ]/.test(e),/\d/.test(e),/[^A-Za-zА-Яа-яЁё0-9]/.test(e)].filter(Boolean).length;r>=2&&(n+=1),r>=3&&(n+=1),4===r&&(n+=1);let i=0;const o=e.toLowerCase();/^(.)\1+$/.test(e)&&(i+=3),/(.)\1{2,}/.test(e)&&(i+=1),/0123|1234|2345|3456|4567|5678|6789|7890|9876|8765|7654|6543|5432|4321|3210|abcd|bcde|cdef|defg|efgh|fghi|ghij|hijk|ijkl|jklm|klmn|lmno|mnop|nopq|opqr|pqrs|qrst|rstu|stuv|tuvw|uvwx|vwxy|wxyz|qwer|wert|erty|rtyu|tyui|yuio|uiop|asdf|sdfg|dfgh|fghj|ghjk|hjkl|zxcv|xcvb|cvbn|vbnm/i.test(o)&&(i+=1);["123456","qwerty","password","111111","123123","qwertyuiop","abc123","letmein","admin","welcome","monkey","dragon","football","iloveyou","000000","1q2w3e4r","zaq12wsx"].includes(o)&&(i+=2),(/^\d+$/.test(e)||/^[A-Za-zА-Яа-яЁё]+$/.test(e))&&(i+=1);return Math.max(0,Math.min(5,n-i))}function u(t){const e=m(t);p.dataset.level=String(e),p.textContent=y[e]}u(c.value||""),c.addEventListener("input",t=>{u(t.currentTarget.value)})}const s=document.querySelectorAll("[data-spollers]");if(s.length>0){const h=Array.from(s).filter(function(t,e,n){return!t.dataset.spollers.split(",")[0]});h.length>0&&g(h);const f=Array.from(s).filter(function(t,e,n){return t.dataset.spollers.split(",")[0]});if(f.length>0){const x=[];f.forEach(t=>{const e={},n=t.dataset.spollers.split(",");e.value=n[0],e.type=n[1]?n[1].trim():"max",e.item=t,x.push(e)});let A=x.map(function(t){return"("+t.type+"-width: "+t.value+"px),"+t.value+","+t.type});A=A.filter(function(t,e,n){return n.indexOf(t)===e}),A.forEach(t=>{const e=t.split(","),n=e[1],r=e[2],i=window.matchMedia(e[0]),o=x.filter(function(t){if(t.value===n&&t.type===r)return!0});i.addListener(function(){g(o,i)}),g(o,i)})}function g(t,e=!1){t.forEach(t=>{t=e?t.item:t,e.matches||!e?(t.classList.add("_init"),v(t),t.addEventListener("click",b)):(t.classList.remove("_init"),v(t,!1),t.removeEventListener("click",b))})}function v(t,e=!0){const n=t.querySelectorAll("[data-spoller]");n.length>0&&n.forEach(t=>{e?(t.removeAttribute("tabindex"),t.classList.contains("_active")||(t.nextElementSibling.hidden=!0)):(t.setAttribute("tabindex","-1"),t.nextElementSibling.hidden=!1)})}function b(t){const e=t.target;if(e.closest("[data-spoller]")){const n=e.closest("[data-spoller]"),r=n.closest("[data-spollers]"),i=r.hasAttribute("data-one-spoller");r.querySelectorAll("._slide").length||(i&&!n.classList.contains("_active")&&w(r),n.classList.toggle("_active"),l(n.nextElementSibling,500)),t.preventDefault()}}function w(t){const e=t.querySelector("[data-spoller]._active");e&&!t.querySelectorAll("._slide").length&&(e.classList.remove("_active"),a(e.nextElementSibling,500))}}let a=(t,e=500)=>{t.classList.contains("_slide")||(t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e))},l=(t,e=500)=>"none"===window.getComputedStyle(t).display?((t,e=500)=>{if(!t.classList.contains("_slide")){t.style.removeProperty("display");let n=window.getComputedStyle(t).display;"none"===n&&(n="block"),t.style.display=n;let r=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e)}})(t,e):a(t,e)});